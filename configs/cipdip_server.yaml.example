# CIPDIP Server Configuration Example
# Copy this file to cipdip_server.yaml and customize for your emulator setup

server:
  name: "Go CIP Emulator"
  personality: "adapter"        # "adapter" or "logix_like"
  listen_ip: "0.0.0.0"          # IP address to bind to (default: "0.0.0.0")
  tcp_port: 44818               # TCP port for explicit messaging
  udp_io_port: 2222             # UDP port for I/O (optional, used if enable_udp_io is true)
  enable_udp_io: false          # Enable UDP I/O server on port 2222 (default: false)

# Protocol behavior (strict ODVA by default)
protocol:
  mode: "strict_odva"        # "strict_odva", "vendor_variant", or "legacy_compat"
  variant: ""                # vendor preset name when mode=vendor_variant
  overrides:
    enip_endianness: "little"        # "little" or "big"
    cip_endianness: "little"         # "little" or "big"
    cip_path_size: true              # include path size byte in CIP requests
    cip_response_reserved: true      # include reserved/status-size fields in CIP responses
    use_cpf: true                    # encode CPF items for SendRRData/SendUnitData
    io_sequence_mode: "increment"    # "increment", "random", or "omit"

# For adapter-style behavior (CLICK-like assemblies)
# Used when personality is "adapter"
adapter_assemblies:
  - name: "InputAssembly1"
    class: 0x04
    instance: 0x65
    attribute: 0x03
    size_bytes: 16
    update_pattern: "counter"   # "counter", "static", "random"
    writable: false

  - name: "OutputAssembly1"
    class: 0x04
    instance: 0x67
    attribute: 0x03
    size_bytes: 16
    writable: true
    update_pattern: "reflect_inputs"

# For logix-like behavior (tag server)
# Used when personality is "logix_like"
logix_tags:
  - name: "scada"
    type: "DINT"                 # "BOOL", "SINT", "INT", "DINT", "REAL", etc.
    array_length: 1000
    update_pattern: "counter"    # "counter", "static", "random", "sawtooth"

  - name: "realval"
    type: "REAL"
    array_length: 1
    update_pattern: "sine"

# Optional: tag namespace used for logging / client convenience
tag_namespace: "Program:MainProgram"

